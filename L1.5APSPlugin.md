现有的插件是一个基于启发式规则（EDD, SPT等）的工单排序器。现在需要将其升级为 L1.5 级的排产插件。该插件的定位是：宏观产能平衡，即在不涉及微观秒级排程的前提下，解决“在特定日期/班次内，资源组能否承载业务量”的问题。

请根据以下方向提供改进方案与逻辑设计：

1. 资源建模：从“属性”到“能力池”
改进方向： 引入“资源组（Resource Group）”概念，而非单一设备。

要求： 插件需支持输入每个资源组的每日可用总工时（如：CNC组每天 40 小时）。支持设置效率系数以调整该组的宏观产出能力。

2. 时间跨度：从“排序”到“时间桶（Time Bucket）”
改进方向： 引入“天”或“班次”作为最小计算单位。

要求： 插件不再只输出 SequenceNo，而需根据排序结果将工单填充进对应的“日期桶”中。当某日的工单总工时超过该资源组的负荷上限时，触发溢出逻辑。

3. 负载计算逻辑：粗能力计划（RCCP）
改进方向： 实现基于权重的削峰填谷。

要求： * 自动顺延： 当某日产能已满，排序靠后的工单应自动标记为“建议顺延至次日”。

负荷百分比： 计算并输出每个资源组在每个时间桶内的产能负荷率（Load %），以便识别宏观瓶颈。

4. 交付物与异常预警
改进方向： 增强业务层面的决策输出。

要求： * 输出结果应包含：ScheduledDate（建议生产日期）、CapacityStatus（产能状态：正常/过载/结余）。

对于即便顺延也无法满足交期的订单，需输出**“逾期预警”**标记。

注意：

保持解耦： 严禁引入微观的“设备占用时间轴”或“秒级起止时间”。

性能优化： 计算逻辑应保持在线性复杂度，以支持大批量工单的快速负荷模拟。