# APS 粗能力排程 (L1.5) 插件市场介绍

## 📌 插件简介 (Introduction)

**APS 粗能力排程 (L1.5) 插件** 是一款进阶版生产计划优化工具。它不仅解决了“任务排序”问题，更引入了 **粗能力计划 (RCCP)** 核心逻辑，通过平衡资源组产能与工单负荷，帮助企业实现从“静态排序”到“动态产能平衡”的飞跃。

当前版本定位于 **L1.5 级粗能力排程**，能够自动识别产能瓶颈，预判交期延期，并为计划员提供科学的排程建议。

## 🌟 核心特性 (Key Features)

- **📈 APS 能力分级策略 (L-Levels)**: 
  - **L1 (静态排序)**: 已包含基础排序算法（EDD, SPT, WSPT, CR, FIFO）。
  - **L1.5 (粗能力排程 - 当前版本)**: 引入资源组（Resource Group）与产能桶（Bucket）逻辑，实现宏观有限产能排程。
- **⚙️ 资源组产能建模**: 支持定义资源组效率、单台设备标准产能，并能够自动聚合资源组总能力。
- **📅 动态日历例外**: 支持设备级的检修、加班、停机等日历例外配置，排程结果会自动避开或利用这些特殊时段。
- **⚠️ 瓶颈与逾期预警**: 自动计算 `CapacityStatus`（产能状态）和 `IsOverdue`（是否逾期），精准定位哪天、哪个资源组超负荷。
- **🧩 深度数据适配**: 延续了灵活的“字段映射”机制，支持工单、资源、日历三大维度的动态数据接入。

## 🎯 应用场景 (Use Cases)

1. **场景一：识别产能瓶颈**: 当生产计划排满时，通过插件快速发现 CNC 中心或组装线在未来哪几天会出现“爆单”风险，提前安排外协或加班。
2. **场景二：精准交期答复**: 在录入新工单时，利用 L1.5 插件自动计算出基于当前负荷的“建议完工日期”，给客户最可靠的交期承诺。
3. **场景三：设备检修模拟**: 模拟某台核心设备检修 3 天对整体计划的影响，插件会自动将任务顺延并评估受影响的订单范围。

## 📖 使用指南 (Usage Guide)

### 1. 安装插件

在活字格设计器中，点击“插件管理” -> “安装插件”，选择 `APSPlugin.zip` 进行安装。

### 2. 配置命令

1. 在页面中添加按钮。
2. 在命令编辑器中选择 **【APS 粗能力排程 (L1.5)】**。
3. 配置核心参数：
   - **工单集合**: 绑定待排产任务清单。
   - **资源组配置**: 定义资源组的效率（如：CNC 中心效率 0.9）。
   - **资源明细**: 绑定具体设备及其标准产能。
   - **日历例外**: 绑定检修或加班记录。
   - **结果保存**: 指定变量接收包含 `ScheduledDate`（建议生产日期）的完整结果集。

### 3. 运行效果

插件将输出带有时间轴的排程建议，您可以结合甘特图组件或负荷直方图，直观展示排程方案。

## ⚠️ 注意事项 (Notes)

1. 本插件仅支持活字格 **11.0** 及以上版本。
2. **数据一致性**: 请确保工单中的 `ResourceGroupID` 与资源组配置中的 ID 保持一致。
3. **计算逻辑**: 插件采用“桶算法”，主要用于宏观平衡，不涉及微观的机台间切换顺序优化。

## 📝 更新日志 (Changelog)

- **v1.5.0**: 重大版本升级！正式支持 L1.5 级粗能力排程，新增资源建模、日历例外及产能平衡算法。
- **v1.0.0**: 初始版本发布，支持 L1 级静态排序。

## 👨‍💻 作者信息 (Author)

- **作者**: 韩洲
- **版本**: 1.5.0
- **技术支持**: 活字格插件大师团队

---
